void quick_sort(int *a, int j)
{
    int size = j;           // сохранение размера массива
    int c = a[(int)j/2];    // базовый элемент
    int k =0;               // итератор второй половины массивы
    int temp =0;            // временный буфер для обмена значений
        do{
            while(a[k] < c) k++;  // пока не найдет элемент большей pivot
            while(a[j] > c) j--;  // пока не найдет элемент меньше pivot

            if ( k <= j)
            {
                temp = a[k];
                a[k] = a[j];
                a[j] = temp;
                k++;
                j--;
            }
          } while(k<=j);    // пока не сойдут два итератора 
    if(j>0)
        quick_sort(a,j);
    if(size>k)
        quick_sort(a+k, size-k);
}